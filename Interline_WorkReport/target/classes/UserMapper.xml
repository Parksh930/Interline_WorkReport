<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="project.interline.report.dao.UserMapper">

<select id="getUser_login" parameterType="string" resultType="user">
select * from user_inform where usermail =#{login_id}
</select>

	<update id="updateMp" parameterType="user">
		update 
			user_inform 
		set 
			<if test='Password != null and Password != ""'>
			,password = #{Password}
			</if>
		where usernum = #{UserNum}
	</update>
	
<select id="getMy_List" resultType="WorkReportVO" parameterType="int">
		  select * from report_list where user_num = #{user_num} order by reportnum desc
	</select>	
	
	<select id="readReportList" resultType="WorkReportVO" parameterType="WorkReportVO">
select * from report_list where User_Num = #{userNum} and User_Name = #{userName} ORDER BY reportnum desc limit 1

</select>

	<select id="getTotal" resultType="int" parameterType="int">
		select count(*) from report_list where User_Num = #{User_Num}
	</select>

<select id="getAll" resultType="int" parameterType="int">
	select count(*) from report_list where user_num = #{user_num} ORDER BY reportnum desc
</select>
</mapper>